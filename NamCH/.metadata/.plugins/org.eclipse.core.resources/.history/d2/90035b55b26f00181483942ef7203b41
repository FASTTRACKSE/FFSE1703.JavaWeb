<%@page import="java.util.ResourceBundle"%>
<%@page import="java.util.Locale"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="f" %>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<%!ResourceBundle resourcebundle; %>

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Danh Sách Sinh Viên</title>
<style>
#customers {
	font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
	border-collapse: collapse;
	width: 100%;
}

#customers td, #customers th {
	border: 1px solid #ddd;
	padding: 8px;
}

#customers tr:nth-child(even) {
	background-color: #f2f2f2;
}

#customers tr:hover {
	background-color: #ddd;
}

#customers th {
	padding-top: 12px;
	padding-bottom: 12px;
	text-align: left;
	background-color: #4CAF50;
	color: white;
}

.button {
	background-color: #4CAF50; /* Green */
	border: none;
	color: white;
	padding: 16px 32px;
	text-align: center;
	text-decoration: none;
	display: inline-block;
	font-size: 16px;
	margin: 4px 2px;
	-webkit-transition-duration: 0.4s; /* Safari */
	transition-duration: 0.4s;
	cursor: pointer;
}

.button2 {
	background-color: white;
	color: black;
	border: 2px solid #008CBA;
}

.button2:hover {
	background-color: #008CBA;
	color: white;
}
</style>
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
</head>
<body>
<div>
	<select onChange="langaaa()" id="language">
		<option >Chọn ngôn ngữ</option>
	  <option value="1" >EN</option>
	  <option value="2" >VI</option>
	</select>
</div>
<script type="text/javascript">
	
	function langaaa() {
		var x = document.getElementById("language").value;
		if(x==1){
			<%
			
			resourcebundle = ResourceBundle.getBundle("student.properties.Resource",new Locale("en","US"));
			%>
		}else if(x==2){
			<%
			resourcebundle = ResourceBundle.getBundle("student.properties.Resource",new Locale("vn","VI"));
			%>	
		}
		document.getElementById("serialNumber").innerHTML = '<%= resourcebundle.getString("serialNumber") %>';
		document.getElementById("Image").innerHTML = '<%= resourcebundle.getString("Image") %>';
		document.getElementById("CodeStudent").innerHTML = '<%= resourcebundle.getString("CodeStudent") %>';
		document.getElementById("Fullname").innerHTML = '<%= resourcebundle.getString("Fullname") %>';
		document.getElementById("Class").innerHTML = '<%= resourcebundle.getString("Class") %>';
		document.getElementById("ScoreLp1").innerHTML = '<%= resourcebundle.getString("ScoreLp1") %>';
		document.getElementById("ScoreLp2").innerHTML = '<%= resourcebundle.getString("ScoreLp2") %>';
		document.getElementById("ScoreAvg").innerHTML = '<%= resourcebundle.getString("ScoreAvg") %>';
		document.getElementById("rate").innerHTML = '<%= resourcebundle.getString("rate") %>';
		document.getElementById("Action").innerHTML = '<%= resourcebundle.getString("Action") %>';
	}
	
</script>

	<center>
		<h1>Danh Sách Sinh Viên</h1>
	</center>
	<table id="customers">
		<tr style="text-align: center;">
			<th id="serialNumber"><%= resourcebundle.getString("serialNumber") %></th>
			<th id="Image"><%= resourcebundle.getString("Image") %></th>
			<th id="CodeStudent"><%= resourcebundle.getString("CodeStudent") %></th>
			<th id="Fullname"></th>
			<th id="Class"></th>
			<th id="ScoreLp1"></th>
			<th id="ScoreLp2"></th>
			<th id="ScoreAvg"></th>
			<th id="rate"></th>
			<th style="text-align: center;" id="Action"></th>
		</tr>

		<c:forEach var="student" varStatus="counter" items="${listStu}">

			<tr>
				<td style="text-align: center;"><c:out value="${counter.count}" /></td>
				<td><img style="width: 70px;height: 70px;" src='<c:out value="${pageContext.request.contextPath}"></c:out>/image/165bb463dde1260748dd47c80015cc25.jpg'></td>
				<td><c:out value="${student.code}" /></td>
				<td><c:out value="${student.fullname}" /></td>
				<td><c:out value="${student.classStudent}" /></td>
				<td style="text-align: right;"><c:out value="${student.lp1}" /></td>
				<td style="text-align: right;"><c:out value="${student.lp2}" /></td>
				<td style="text-align: right;"><c:out
						value="${student.getDiemTb()}" /></td>
				<td><c:out value="${student.getXepLoai()}" /></td>
				<td style="text-align: center;">
					<div class="w3-container">
						<a href="edit?code=<c:out value='${student.code}' />"><button
								class="w3-button  w3-circle w3-blue">Edit</button></a> <a
							href="view?code=<c:out value='${student.code}' />"><button
								class="w3-button  w3-circle w3-teal">View</button></a> <a
							href="delete?code=<c:out value='${student.code}' />"><button
								onclick="return confirm('Bạn Có Chắc Chắn Xóa Sinh Viên ?\nTên '+<c:out value='${student.fullname}' />+'\nCó Mã '+ <c:out value='${student.code}' />);"
								class="w3-button  w3-circle w3-red w3-card-4">Del</button></a>
					</div>
				</td>
			</tr>

		</c:forEach>

	</table>
	<center><c:forEach var="x" items="${pagi}">
		${x}
	</c:forEach></center>
	<a href="add"><button style="float: right; width: 250px"
			class="button button2">Thêm Sinh Viên</button></a>
			
			${message}
</body>
</html>